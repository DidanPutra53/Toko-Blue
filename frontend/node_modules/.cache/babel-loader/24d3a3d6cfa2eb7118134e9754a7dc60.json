{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import MetaData from'../layout/MetaData';import{addItemToCart,removeItemFromCart}from'../../actions/cartAction';import{FiTrash}from\"react-icons/fi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var increaseQty=function increaseQty(id,quantity,stock){var newQty=quantity+1;if(newQty>stock)return;dispatch(addItemToCart(id,newQty));};var decreaseQty=function decreaseQty(id,quantity){var newQty=quantity-1;if(newQty<=0)return;dispatch(addItemToCart(id,newQty));};var removeCartItemHandler=function removeCartItemHandler(id){dispatch(removeItemFromCart(id));};var checkoutHandler=function checkoutHandler(){history.push(\"/Pengiriman\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Keranjang\"}),cartItems.length===0?/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"keranjang-kosong\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Keranjang kosong\"}),/*#__PURE__*/_jsx(Link,{to:\"/Produk\",children:\"Isi keranjang dengan produk\"})]})}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"keranjang-isi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kiri-cart\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-keranjang\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Keranjang\"}),/*#__PURE__*/_jsx(\"div\",{children:cartItems.map(function(item){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-keranjang\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Produk/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{children:[\"Rp. \",item.price]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-light border-dark minus\",onClick:function onClick(){return decreaseQty(item.product,item.quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:function onClick(){return increaseQty(item.product,item.quantity,item.stock);},children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:function onClick(){return removeCartItemHandler(item.product);},children:/*#__PURE__*/_jsx(FiTrash,{})})]},item.product)});})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-price\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"price-box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Ringkasan Belanja\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ringkasan-belanja\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-barang\",children:[/*#__PURE__*/_jsxs(\"a\",{children:[\"Total Harga (\",/*#__PURE__*/_jsx(\"span\",{children:cartItems.reduce(function(acc,item){return acc+Number(item.quantity);},0)}),\" barang) : \"]}),/*#__PURE__*/_jsxs(\"a\",{children:[\"Rp. \",/*#__PURE__*/_jsx(\"span\",{children:cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-belanja\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Total Harga : \"}),/*#__PURE__*/_jsxs(\"a\",{children:[\"Rp. \",/*#__PURE__*/_jsx(\"span\",{children:cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0)})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:checkoutHandler,children:\"Beli\"})]})})]})})]});};export default Cart;","map":{"version":3,"sources":["E:/document/e-commerce/frontend/src/component/cart/Cart.js"],"names":["React","Fragment","Link","useAlert","useDispatch","useSelector","MetaData","addItemToCart","removeItemFromCart","FiTrash","Cart","history","dispatch","state","cart","cartItems","increaseQty","id","quantity","stock","newQty","decreaseQty","removeCartItemHandler","checkoutHandler","push","length","map","item","image","product","name","price","reduce","acc","Number"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MetaData from '../layout/MetaData';\r\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartAction';\r\nimport { FiTrash } from \"react-icons/fi\";\r\n\r\n\r\n\r\n\r\nconst Cart = ({ history }) => {\r\n    const dispatch = useDispatch()\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const increaseQty = (id, quantity, stock) => {\r\n        const newQty = quantity + 1\r\n        if (newQty > stock) return\r\n        dispatch(addItemToCart(id, newQty))\r\n    }\r\n\r\n    const decreaseQty = (id, quantity) => {\r\n        const newQty = quantity - 1\r\n        if (newQty <= 0) return\r\n        dispatch(addItemToCart(id, newQty))\r\n    }\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        dispatch(removeItemFromCart(id))\r\n    }\r\n\r\n    const checkoutHandler = () => {\r\n        history.push(`/Pengiriman`)\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title=\"Keranjang\" />\r\n            {cartItems.length === 0 ?\r\n\r\n                <Fragment>\r\n                    <div className=\"keranjang-kosong\">\r\n                        <h3>Keranjang kosong</h3>\r\n\r\n                        <Link to=\"/Produk\">\r\n                            Isi keranjang dengan produk\r\n                        </Link>\r\n                    </div>\r\n                </Fragment>\r\n\r\n                : (\r\n                    <Fragment>\r\n                        <div className=\"keranjang-isi\">\r\n                            <div className=\"kiri-cart\">\r\n                                <div className=\"list-keranjang\">\r\n                                    <h3>Keranjang</h3>\r\n                                    <div>\r\n                                        {cartItems.map(item => (\r\n                                            <Fragment>\r\n                                                <div className=\"card-keranjang\" key={item.product}>\r\n                                                    <div>\r\n                                                        <img src={item.image} alt=\"\" />\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <Link to={`/Produk/${item.product}`}>\r\n                                                            {item.name}\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <a>Rp. {item.price}</a>\r\n                                                    </div>\r\n                                                    <div className=\"stockCounter d-flex\">\r\n                                                        <span className='btn btn-light border-dark minus' onClick={() => decreaseQty(item.product, item.quantity)}>\r\n                                                            -\r\n                                                        </span>\r\n\r\n                                                        <input\r\n                                                            type='number'\r\n                                                            className='form-control count d-inline'\r\n                                                            value={item.quantity}\r\n                                                            readOnly\r\n                                                        />\r\n\r\n                                                        <span className='btn btn-primary plus' onClick={() => increaseQty(item.product, item.quantity, item.stock)}>\r\n                                                            +\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <button className=\"delete-button\" onClick={() => removeCartItemHandler(item.product)}>\r\n                                                        <FiTrash />\r\n                                                    </button>\r\n                                                </div>\r\n                                            </Fragment>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"list-price\">\r\n                                <div className=\"price-box\">\r\n                                    <h5>Ringkasan Belanja</h5>\r\n                                    <div className=\"ringkasan-belanja\">\r\n                                        <div className=\"total-barang\">\r\n                                            <a>Total Harga (<span>{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)}</span> barang) : </a>\r\n                                            <a>Rp. <span>{cartItems.reduce((acc, item) => acc + (item.quantity * item.price), 0)}</span></a>\r\n                                        </div>\r\n                                        <div className=\"total-belanja\">\r\n                                            <a>Total Harga : </a>\r\n                                            <a>Rp. <span>{cartItems.reduce((acc, item) => acc + (item.quantity * item.price), 0)}</span></a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button onClick={checkoutHandler} >Beli</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Fragment>\r\n                )\r\n            }\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}