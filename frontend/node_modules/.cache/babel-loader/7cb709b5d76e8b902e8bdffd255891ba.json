{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{MDBDataTable}from'mdbreact';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import Sidebar from'./Sidebar';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{allUsers,clearError}from'../../actions/userAction';import{userConstants}from'../../constants/userConstant';import{FiTrash,FiEdit}from\"react-icons/fi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersList=function UsersList(_ref){var history=_ref.history;var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.allUsers;}),loading=_useSelector.loading,error=_useSelector.error,users=_useSelector.users;useEffect(function(){dispatch(allUsers());if(error){alert.error(error);dispatch(clearError());}// if (isDeleted) {\n//     alert.success('User deleted successfully');\n//     history.push('/admin/users');\n//     dispatch({ type: DELETE_USER_RESET })\n// }\n},[dispatch,alert,error,history]);var setUsers=function setUsers(){var data={columns:[{label:'User ID',field:'id',sort:'asc'},{label:'Name',field:'name',sort:'asc'},{label:'Email',field:'email',sort:'asc'},{label:'Role',field:'role',sort:'asc'},{label:'Actions',field:'actions'}],rows:[]};users.forEach(function(user){data.rows.push({id:user._id,name:user.name,email:user.email,role:user.role,actions:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-edit-btn\",style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/user/\".concat(user._id),children:/*#__PURE__*/_jsx(FiEdit,{})}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"none\",backgroundColor:\"transparent\"},className:\"trash-user\",children:/*#__PURE__*/_jsx(FiTrash,{})})]})});});return data;};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'All Users'}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-2\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-10\",children:/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-5\",children:\"All Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(MDBDataTable,{data:setUsers(),className:\"px-3\",bordered:true,striped:true,hover:true})]})})]})]});};export default UsersList;","map":{"version":3,"sources":["C:/Users/coegb/Documents/e-commerce/frontend/src/component/admin/UsersList.js"],"names":["React","Fragment","useEffect","Link","MDBDataTable","MetaData","Loader","Sidebar","useAlert","useDispatch","useSelector","allUsers","clearError","userConstants","FiTrash","FiEdit","UsersList","history","alert","dispatch","state","loading","error","users","setUsers","data","columns","label","field","sort","rows","forEach","user","push","id","_id","name","email","role","actions","display","justifyContent","border","backgroundColor"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,YAAT,KAA6B,UAA7B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,0BAArC,CACA,OAASC,aAAT,KAA8B,8BAA9B,CAEA,OAASC,OAAT,CAAkBC,MAAlB,KAAgC,gBAAhC,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAE/B,GAAMC,CAAAA,KAAK,CAAGV,QAAQ,EAAtB,CACA,GAAMW,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,iBAAkCC,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACT,QAAV,EAAN,CAA7C,CAAQU,OAAR,cAAQA,OAAR,CAAiBC,KAAjB,cAAiBA,KAAjB,CAAwBC,KAAxB,cAAwBA,KAAxB,CAEArB,SAAS,CAAC,UAAM,CACZiB,QAAQ,CAACR,QAAQ,EAAT,CAAR,CAEA,GAAIW,KAAJ,CAAW,CACPJ,KAAK,CAACI,KAAN,CAAYA,KAAZ,EACAH,QAAQ,CAACP,UAAU,EAAX,CAAR,CACH,CAED;AACA;AACA;AACA;AACA;AAEH,CAdQ,CAcN,CAACO,QAAD,CAAWD,KAAX,CAAkBI,KAAlB,CAAyBL,OAAzB,CAdM,CAAT,CAgBA,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,IAAI,CAAG,CACTC,OAAO,CAAE,CACL,CACIC,KAAK,CAAE,SADX,CAEIC,KAAK,CAAE,IAFX,CAGIC,IAAI,CAAE,KAHV,CADK,CAML,CACIF,KAAK,CAAE,MADX,CAEIC,KAAK,CAAE,MAFX,CAGIC,IAAI,CAAE,KAHV,CANK,CAWL,CACIF,KAAK,CAAE,OADX,CAEIC,KAAK,CAAE,OAFX,CAGIC,IAAI,CAAE,KAHV,CAXK,CAgBL,CACIF,KAAK,CAAE,MADX,CAEIC,KAAK,CAAE,MAFX,CAGIC,IAAI,CAAE,KAHV,CAhBK,CAqBL,CACIF,KAAK,CAAE,SADX,CAEIC,KAAK,CAAE,SAFX,CArBK,CADA,CA2BTE,IAAI,CAAE,EA3BG,CAAb,CA8BAP,KAAK,CAACQ,OAAN,CAAc,SAAAC,IAAI,CAAI,CAClBP,IAAI,CAACK,IAAL,CAAUG,IAAV,CAAe,CACXC,EAAE,CAAEF,IAAI,CAACG,GADE,CAEXC,IAAI,CAAEJ,IAAI,CAACI,IAFA,CAGXC,KAAK,CAAEL,IAAI,CAACK,KAHD,CAIXC,IAAI,CAAEN,IAAI,CAACM,IAJA,CAKXC,OAAO,cACH,aAAK,SAAS,CAAC,iBAAf,CAAiC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,eAAnC,CAAxC,wBACI,KAAC,IAAD,EAAM,EAAE,uBAAiBT,IAAI,CAACG,GAAtB,CAAR,uBACI,KAAC,MAAD,IADJ,EADJ,cAII,eAAQ,KAAK,CAAE,CAAEO,MAAM,CAAE,MAAV,CAAkBC,eAAe,CAAE,aAAnC,CAAf,CAAmE,SAAS,CAAC,YAA7E,uBACI,KAAC,OAAD,IADJ,EAJJ,GANO,CAAf,EAeH,CAhBD,EAiBA,MAAOlB,CAAAA,IAAP,CACH,CAjDD,CAmDA,mBACI,MAAC,QAAD,yBACI,KAAC,QAAD,EAAU,KAAK,CAAE,WAAjB,EADJ,cAEI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,KAAC,OAAD,IADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBACI,MAAC,QAAD,yBACI,WAAI,SAAS,CAAC,MAAd,uBADJ,CAEKJ,OAAO,cAAG,KAAC,MAAD,IAAH,cACJ,KAAC,YAAD,EACI,IAAI,CAAEG,QAAQ,EADlB,CAEI,SAAS,CAAC,MAFd,CAGI,QAAQ,KAHZ,CAII,OAAO,KAJX,CAKI,KAAK,KALT,EAHR,GADJ,EAJJ,GAFJ,GADJ,CAwBH,CAlGD,CAoGA,cAAeR,CAAAA,SAAf","sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { allUsers, clearError } from '../../actions/userAction'\r\nimport { userConstants } from '../../constants/userConstant'\r\n\r\nimport { FiTrash, FiEdit } from \"react-icons/fi\";\r\n\r\nconst UsersList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, users } = useSelector(state => state.allUsers);\r\n\r\n    useEffect(() => {\r\n        dispatch(allUsers());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearError())\r\n        }\r\n\r\n        // if (isDeleted) {\r\n        //     alert.success('User deleted successfully');\r\n        //     history.push('/admin/users');\r\n        //     dispatch({ type: DELETE_USER_RESET })\r\n        // }\r\n\r\n    }, [dispatch, alert, error, history])\r\n\r\n    const setUsers = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'User ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Name',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Email',\r\n                    field: 'email',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Role',\r\n                    field: 'role',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        users.forEach(user => {\r\n            data.rows.push({\r\n                id: user._id,\r\n                name: user.name,\r\n                email: user.email,\r\n                role: user.role,\r\n                actions:\r\n                    <div className=\"delete-edit-btn\" style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                        <Link to={`/admin/user/${user._id}`}>\r\n                            <FiEdit />\r\n                        </Link>\r\n                        <button style={{ border: \"none\", backgroundColor: \"transparent\" }} className=\"trash-user\">\r\n                            <FiTrash />\r\n                        </button>\r\n                    </div>\r\n            })\r\n        })\r\n        return data;\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Users'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">All Users</h1>\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setUsers()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                            />\r\n                        )}\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UsersList\r\n"]},"metadata":{},"sourceType":"module"}