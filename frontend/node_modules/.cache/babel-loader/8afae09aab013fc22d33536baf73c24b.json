{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import MetaData from'../layout/MetaData';import{getOrderDetails,clearErrors}from'../../actions/orderAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(_ref){var match=_ref.match;var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.orderDetails;}),loading=_useSelector.loading,error=_useSelector.error,_useSelector$order=_useSelector.order,order=_useSelector$order===void 0?{}:_useSelector$order;var shippingInfo=order.shippingInfo,orderItems=order.orderItems,paymentInfo=order.paymentInfo,user=order.user,totalPrice=order.totalPrice,orderStatus=order.orderStatus;useEffect(function(){dispatch(getOrderDetails(match.params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,match.params.id]);var shippingDetails=shippingInfo&&\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.postialCode);var isPaid=paymentInfo&&paymentInfo.status==='succeeded'?true:false;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Order Details'}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"invoice\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"\",children:[\"Invoice #\",order._id]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"\",children:\"Shipping Info\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:user&&user.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:shippingInfo&&shippingInfo.phoneNo})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:shippingDetails})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"}),\" Rp. \",totalPrice]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Status:\"}),/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&String(order.orderStatus).includes('Delivered')?\"greencolor\":\"redcolor\",children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"order-product\",children:orderItems&&orderItems.map(function(item){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-product\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Produk/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Rp.\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",item.quantity,\" Barang\"]})})]},item.product)});})})]})})]});};export default OrderDetails;","map":{"version":3,"sources":["E:/document/e-commerce/frontend/src/component/order/OrderDetails.js"],"names":["React","Fragment","useEffect","Link","Loader","useAlert","useDispatch","useSelector","MetaData","getOrderDetails","clearErrors","OrderDetails","match","alert","dispatch","state","orderDetails","loading","error","order","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","params","id","shippingDetails","address","city","postialCode","isPaid","status","_id","name","phoneNo","String","includes","map","item","image","product","price","quantity"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../layout/Loader'\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MetaData from '../layout/MetaData';\r\nimport { getOrderDetails, clearErrors } from '../../actions/orderAction';\r\n\r\nconst OrderDetails = ({ match }) => {\r\n\r\n    const alert = useAlert()\r\n    const dispatch = useDispatch()\r\n\r\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n\r\n    useEffect(() => {\r\n        dispatch(getOrderDetails(match.params.id))\r\n\r\n        if (error) {\r\n            alert.error(error)\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postialCode}`\r\n\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Order Details'} />\r\n            {\r\n                loading ? <Loader /> : (\r\n                    <Fragment>\r\n                        <div className=\"order-details\">\r\n                            <div className=\"order-info\">\r\n                                <div className=\"invoice\">\r\n                                    <h5 className=\"\">Invoice #{order._id}</h5>\r\n                                    <hr />\r\n                                    <h4 className=\"\">Shipping Info</h4>\r\n                                    <div>\r\n                                        <p>{user && user.name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>{shippingInfo && shippingInfo.phoneNo}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>{shippingDetails}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p><b>Total:</b> Rp. {totalPrice}</p>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <h4 className=\"my-4\">Payment</h4>\r\n                                    <p className={isPaid ? \"greenColor\" : \"redColor\"} ><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\r\n                                    <h4 className=\"my-4\">Order Status:</h4>\r\n                                    <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greencolor\" : \"redcolor\"} ><b>{orderStatus}</b></p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"order-product\">\r\n                                {\r\n                                    orderItems && orderItems.map(item => (\r\n                                        <Fragment>\r\n                                            <div className=\"card-product\" key={item.product}>\r\n                                                <div>\r\n                                                    <img src={item.image} alt={item.name} />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Link to={`/Produk/${item.product}`}>{item.name}</Link>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <p>Rp.{item.price}</p>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <p> {item.quantity} Barang</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Fragment>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n\r\n                        </div>\r\n                    </Fragment>\r\n                )\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n"]},"metadata":{},"sourceType":"module"}