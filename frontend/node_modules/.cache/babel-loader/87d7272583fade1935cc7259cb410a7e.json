{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/coegb/Documents/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/coegb/Documents/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{productConstansts,getSingleProduct}from'../constants/product.Constant';//get allproducts\nexport var getProduct=function getProduct(){var keyword=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var category=arguments.length>1?arguments[1]:undefined;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var link,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:productConstansts.ALL_PRODUCT_REQUEST});link=\"/api/v1/Products?keyword=\".concat(keyword);if(category){link=\"/api/v1/Products?category=\".concat(category);}_context.next=6;return axios.get(link);case 6:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:productConstansts.ALL_PRODUCT_SUCCESS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:productConstansts.ALL_PRODUCT_FAILURE,payload:_context.t0.response.data.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};//get single product\nexport var getDetailProduct=function getDetailProduct(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:getSingleProduct.PRODUCT_DETAIL_REQUEST});_context2.next=4;return axios.get(\"/api/v1/Products/\".concat(id));case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:getSingleProduct.PRODUCT_DETAIL_SUCCESS,payload:data.product});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:getSingleProduct.PRODUCT_DETAIL_FAILURE,payload:_context2.t0.response.data.message});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getAdminsProducts=function getAdminsProducts(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:productConstansts.ADMIN_PRODUCT_REQUEST});_context3.next=4;return axios.get(\"/api/v1/admin/Products\");case 4:_yield$axios$get3=_context3.sent;data=_yield$axios$get3.data;dispatch({type:productConstansts.ADMIN_PRODUCT_SUCCESS,payload:data.products});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:productConstansts.ADMIN_PRODUCT_FAILURE,payload:_context3.t0.response.data.message});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var newProduct=function newProduct(productData){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:productConstansts.NEW_PRODUCT_REQUEST});config={headers:{'Content-Type':'application/json'}};_context4.next=5;return axios.post('/api/v1/admin/products/new',productData,config);case 5:_yield$axios$post=_context4.sent;data=_yield$axios$post.data;dispatch({type:productConstansts.NEW_PRODUCT_SUCCESS,payload:data});_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);dispatch({type:productConstansts.NEW_PRODUCT_FAILURE,payload:_context4.t0.response.data.message});case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var deleteProduct=function deleteProduct(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:productConstansts.DELETE_PRODUCT_REQUEST});_context5.next=4;return axios.delete(\"/api/v1/admin/products/\".concat(id));case 4:_yield$axios$delete=_context5.sent;data=_yield$axios$delete.data;dispatch({type:productConstansts.DELETE_PRODUCT_SUCCESS,payload:data});_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);dispatch({type:productConstansts.DELETE_PRODUCT_FAILURE,payload:_context5.t0.response.data.message});case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[0,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var updateProduct=function updateProduct(id,productData){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:productConstansts.UPDATE_PRODUCT_REQUEST});config={headers:{'Content-Type':'application/json'}};_context6.next=5;return axios.put(\"/api/v1/admin/products/\".concat(id),productData,config);case 5:_yield$axios$put=_context6.sent;data=_yield$axios$put.data;dispatch({type:productConstansts.UPDATE_PRODUCT_SUCCESS,payload:data.success});_context6.next=13;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);dispatch({type:productConstansts.UPDATE_PRODUCT_FAILURE,payload:_context6.t0.response.data.message});case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};//clear error\nexport var clearError=function clearError(){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:productConstansts.CLEAR_ERRORS});case 1:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref7.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/coegb/Documents/e-commerce/frontend/src/actions/product.actions.js"],"names":["axios","productConstansts","getSingleProduct","getProduct","keyword","category","dispatch","type","ALL_PRODUCT_REQUEST","link","get","data","ALL_PRODUCT_SUCCESS","payload","ALL_PRODUCT_FAILURE","response","message","getDetailProduct","id","PRODUCT_DETAIL_REQUEST","PRODUCT_DETAIL_SUCCESS","product","PRODUCT_DETAIL_FAILURE","getAdminsProducts","ADMIN_PRODUCT_REQUEST","ADMIN_PRODUCT_SUCCESS","products","ADMIN_PRODUCT_FAILURE","newProduct","productData","NEW_PRODUCT_REQUEST","config","headers","post","NEW_PRODUCT_SUCCESS","NEW_PRODUCT_FAILURE","deleteProduct","DELETE_PRODUCT_REQUEST","delete","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAILURE","updateProduct","UPDATE_PRODUCT_REQUEST","put","UPDATE_PRODUCT_SUCCESS","success","UPDATE_PRODUCT_FAILURE","clearError","CLEAR_ERRORS"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { productConstansts, getSingleProduct } from '../constants/product.Constant'\r\n\r\n//get allproducts\r\nexport const getProduct = (keyword = '', category) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: productConstansts.ALL_PRODUCT_REQUEST\r\n        })\r\n\r\n        let link = `/api/v1/Products?keyword=${keyword}`\r\n        if (category) {\r\n            link = `/api/v1/Products?category=${category}`\r\n        }\r\n        const { data } = await axios.get(link)\r\n        dispatch({\r\n            type: productConstansts.ALL_PRODUCT_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: productConstansts.ALL_PRODUCT_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n//get single product\r\nexport const getDetailProduct = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: getSingleProduct.PRODUCT_DETAIL_REQUEST\r\n        })\r\n        const { data } = await axios.get(`/api/v1/Products/${id}`)\r\n        dispatch({\r\n            type: getSingleProduct.PRODUCT_DETAIL_SUCCESS,\r\n            payload: data.product\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: getSingleProduct.PRODUCT_DETAIL_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const getAdminsProducts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: productConstansts.ADMIN_PRODUCT_REQUEST\r\n        })\r\n        const { data } = await axios.get(`/api/v1/admin/Products`)\r\n        dispatch({\r\n            type: productConstansts.ADMIN_PRODUCT_SUCCESS,\r\n            payload: data.products\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: productConstansts.ADMIN_PRODUCT_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const newProduct = (productData) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: productConstansts.NEW_PRODUCT_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/v1/admin/products/new', productData, config)\r\n\r\n        dispatch({\r\n            type: productConstansts.NEW_PRODUCT_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: productConstansts.NEW_PRODUCT_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: productConstansts.DELETE_PRODUCT_REQUEST })\r\n\r\n        const { data } = await axios.delete(`/api/v1/admin/products/${id}`)\r\n\r\n        dispatch({\r\n            type: productConstansts.DELETE_PRODUCT_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: productConstansts.DELETE_PRODUCT_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateProduct = (id, productData) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: productConstansts.UPDATE_PRODUCT_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/admin/products/${id}`, productData, config)\r\n\r\n        dispatch({\r\n            type: productConstansts.UPDATE_PRODUCT_SUCCESS,\r\n            payload: data.success,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: productConstansts.UPDATE_PRODUCT_FAILURE,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n//clear error\r\nexport const clearError = () => async (dispatch) => {\r\n    dispatch({\r\n        type: productConstansts.CLEAR_ERRORS\r\n    })\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}