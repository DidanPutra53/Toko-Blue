{"ast":null,"code":"import _slicedToArray from\"C:/Users/coegb/Documents/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{Link}from'react-router-dom';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{MdArrowBack}from\"react-icons/md\";import{getDetailProduct,clearError}from'../../actions/product.actions';import Loader from'../layout/Loader';import MetaData from'../layout/MetaData';import{addItemToCart}from'../../actions/cartAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(_ref){var match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var dispatch=useDispatch();var alert=useAlert();var _useSelector=useSelector(function(state){return state.productDetails;}),loading=_useSelector.loading,error=_useSelector.error,product=_useSelector.product;useEffect(function(){dispatch(getDetailProduct(match.params.id));if(error){alert.error(error);dispatch(clearError());}},[dispatch,alert,error,match.params.id]);var addToCart=function addToCart(){dispatch(addItemToCart(match.params.id,quantity));alert.success('Berhasil ditambahkan Ke keranjang');};var increaseQty=function increaseQty(){var count=document.querySelector('.count');if(count.valueAsNumber>=product.stock)return;var qty=count.valueAsNumber+1;setQuantity(qty);};var decreaseQty=function decreaseQty(){var count=document.querySelector('.count');if(count.valueAsNumber<=1)return;var qty=count.valueAsNumber-1;setQuantity(qty);};return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProductDetailContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgproduct\",children:product.productimg&&product.productimg.map(function(image){return/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image.url,alt:product.title})},image.public_id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"productdetail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-product\",children:[/*#__PURE__*/_jsx(Link,{to:\"/Produk\",children:/*#__PURE__*/_jsx(MdArrowBack,{})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Product: \",product._id]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Status: \",/*#__PURE__*/_jsx(\"span\",{className:product.stock>0?'greenColor':'redColor',children:product.stock>0?'Stock':'Barang kosong'})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Rp.\",product.price,\",-\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-light border-dark minus\",onClick:decreaseQty,children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:increaseQty,children:\"+\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary d-inline\",disabled:product.stock===0,onClick:addToCart,children:\"+ Keranjang\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Deskripsi\"}),/*#__PURE__*/_jsx(\"p\",{children:product.desc})]})})]})]})});};export default ProductDetails;","map":{"version":3,"sources":["C:/Users/coegb/Documents/e-commerce/frontend/src/component/product/ProductDetails.js"],"names":["React","Fragment","useEffect","useState","Link","useAlert","useDispatch","useSelector","MdArrowBack","getDetailProduct","clearError","Loader","MetaData","addItemToCart","ProductDetails","match","quantity","setQuantity","dispatch","alert","state","productDetails","loading","error","product","params","id","addToCart","success","increaseQty","count","document","querySelector","valueAsNumber","stock","qty","decreaseQty","name","productimg","map","image","url","title","public_id","_id","price","desc"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MdArrowBack } from \"react-icons/md\";\r\nimport { getDetailProduct, clearError } from '../../actions/product.actions';\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData';\r\nimport { addItemToCart } from '../../actions/cartAction';\r\n\r\n\r\nconst ProductDetails = ({ match }) => {\r\n\r\n    const [quantity, setQuantity] = useState(1)\r\n\r\n    const dispatch = useDispatch()\r\n    const alert = useAlert()\r\n    const { loading, error, product } = useSelector(state => state.productDetails)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getDetailProduct(match.params.id))\r\n        if (error) {\r\n            alert.error(error)\r\n            dispatch(clearError())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const addToCart = () => {\r\n        dispatch(addItemToCart(match.params.id, quantity))\r\n        alert.success('Berhasil ditambahkan Ke keranjang')\r\n    }\r\n\r\n    const increaseQty = () => {\r\n        const count = document.querySelector('.count')\r\n        if (count.valueAsNumber >= product.stock) return\r\n        const qty = count.valueAsNumber + 1\r\n        setQuantity(qty)\r\n    }\r\n\r\n    const decreaseQty = () => {\r\n        const count = document.querySelector('.count')\r\n        if (count.valueAsNumber <= 1) return\r\n        const qty = count.valueAsNumber - 1\r\n        setQuantity(qty)\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={product.name} />\r\n                    <div className=\"ProductDetailContent\">\r\n                        <div className=\"imgproduct\">\r\n                            {\r\n                                product.productimg && product.productimg.map(image => (\r\n                                    <div className=\"img\" key={image.public_id}>\r\n                                        <img src={image.url} alt={product.title} />\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                        <div className=\"productdetail\">\r\n                            <div className=\"text-product\">\r\n                                <Link to=\"/Produk\">\r\n                                    <MdArrowBack />\r\n                                </Link>\r\n                                <hr />\r\n                                <p>Product: {product._id}</p>\r\n                                <hr />\r\n                                <h1>{product.name}</h1>\r\n                                <hr />\r\n                                <h5>Status: <span className={product.stock > 0 ? 'greenColor' : 'redColor'}>{product.stock > 0 ? 'Stock' : 'Barang kosong'}</span></h5>\r\n                                <hr />\r\n                                <h3>Rp.{product.price},-</h3>\r\n                                <hr />\r\n                                <div className=\"stockCounter d-flex\">\r\n                                    <span className='btn btn-light border-dark minus' onClick={decreaseQty}>\r\n                                        -\r\n                                    </span>\r\n\r\n                                    <input\r\n                                        type='number'\r\n                                        className='form-control count d-inline'\r\n                                        value={quantity}\r\n                                        readOnly\r\n                                    />\r\n\r\n                                    <span className='btn btn-primary plus' onClick={increaseQty}>\r\n                                        +\r\n                                    </span>\r\n                                </div>\r\n                                <hr />\r\n\r\n                                <button type=\"button\" className=\"btn btn-primary d-inline\" disabled={product.stock === 0} onClick={addToCart} >+ Keranjang</button>\r\n\r\n                                <hr />\r\n                                <h4>Deskripsi</h4>\r\n                                <p>{product.desc}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n"]},"metadata":{},"sourceType":"module"}