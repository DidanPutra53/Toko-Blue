{"ast":null,"code":"import _regeneratorRuntime from\"E:/document/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/document/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/document/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{BrowserRouter as Router,Route}from'react-router-dom';import{useSelector}from'react-redux';import Header from'./component/layout/Header';import Footer from'./component/layout/Footer';import'./App.scss';import Produk from'./component/product/ProductHome';import ProductDetails from'./component/product/ProductDetails';import Home from'./component/Home/Home';import ListOrders from'./component/order/ListOrders';import Login from'./component/user/Login';import Register from'./component/user/Register';import ForgotPassword from'./component/user/ForgotPassword';import NewPassword from'./component/user/NewPassword';import Profile from'./component/user/Profile';import UpdateProfile from'./component/user/UpdateProfile';import UpdatePassword from'./component/user/UpdatePassword';import{loadUser}from'./actions/userAction';import store from'./store';import ProtectedRoute from'./component/route/ProtectedRoute';import Cart from'./component/cart/Cart';import Shipping from'./component/cart/Shipping';import ConfirmOrder from'./component/cart/ConfirmOrder';import Payment from'./component/cart/Payment';import OrderSuccess from'./component/cart/OrderSuccess';import OrderDetail from'./component/order/OrderDetails';//ADMIN ROUTE\nimport Dashboard from'./component/admin/Dashboard';import ProductList from'./component/admin/ProductList';import newProduct from'./component/admin/NewProduct';import UpdateProduct from'./component/admin/UpdateProduct';import OrdersList from'./component/admin/OrdersList';import ProcessOrder from'./component/admin/ProcessOrder';import UsersList from'./component/admin/UsersList';//payment element\nimport{Elements}from'@stripe/react-stripe-js';import{loadStripe}from'@stripe/stripe-js';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),stripeApiKey=_useState2[0],setStripeApiKey=_useState2[1];useEffect(function(){store.dispatch(loadUser());function getStripeApiKey(){return _getStripeApiKey.apply(this,arguments);}function _getStripeApiKey(){_getStripeApiKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/v1/stripeapi');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setStripeApiKey(data.stripeApiKey);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getStripeApiKey.apply(this,arguments);}getStripeApiKey();},[]);var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading;return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/search/:keyword\",component:Produk}),/*#__PURE__*/_jsx(Route,{path:\"/Produk\",exact:true,component:Produk}),/*#__PURE__*/_jsx(Route,{path:\"/Produk/:id\",component:ProductDetails}),/*#__PURE__*/_jsx(Route,{path:\"/Keranjang\",exact:true,component:Cart}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Pengiriman\",component:Shipping}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/order/confirm\",component:ConfirmOrder}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/success\",component:OrderSuccess}),stripeApiKey&&/*#__PURE__*/_jsx(Elements,{stripe:loadStripe(stripeApiKey),children:/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Pembayaran\",component:Payment})}),/*#__PURE__*/_jsx(Route,{path:\"/Masuk\",component:Login}),/*#__PURE__*/_jsx(Route,{path:\"/Daftar\",component:Register}),/*#__PURE__*/_jsx(Route,{path:\"/Password/Lupa-Password\",component:ForgotPassword,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/Password/reset-password/:token\",component:NewPassword,exact:true}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Profile\",exact:true,component:Profile}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Profile/Ubah-Profile\",exact:true,component:UpdateProfile}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Password/Ubah-Password\",exact:true,component:UpdatePassword}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Profile/Pesanan\",exact:true,component:ListOrders}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Pesanan/:id\",exact:true,component:OrderDetail}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/Dashboard\",isAdmin:true,exact:true,component:Dashboard}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/produk\",isAdmin:true,exact:true,component:ProductList}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/produk/tambah\",isAdmin:true,exact:true,component:newProduct}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/produk/ubah/:id\",isAdmin:true,exact:true,component:UpdateProduct}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/pesanan\",isAdmin:true,exact:true,component:OrdersList}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/pesanan/ubah/:id\",isAdmin:true,exact:true,component:ProcessOrder}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/admin/user\",isAdmin:true,exact:true,component:UsersList})]}),!loading&&(!isAuthenticated||user.role!=='admin')&&/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"sources":["E:/document/e-commerce/frontend/src/App.js"],"names":["useEffect","useState","BrowserRouter","Router","Route","useSelector","Header","Footer","Produk","ProductDetails","Home","ListOrders","Login","Register","ForgotPassword","NewPassword","Profile","UpdateProfile","UpdatePassword","loadUser","store","ProtectedRoute","Cart","Shipping","ConfirmOrder","Payment","OrderSuccess","OrderDetail","Dashboard","ProductList","newProduct","UpdateProduct","OrdersList","ProcessOrder","UsersList","Elements","loadStripe","axios","App","stripeApiKey","setStripeApiKey","dispatch","getStripeApiKey","get","data","state","auth","user","isAuthenticated","loading","role"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Header from './component/layout/Header';\r\nimport Footer from './component/layout/Footer'\r\nimport './App.scss';\r\nimport Produk from './component/product/ProductHome'\r\nimport ProductDetails from './component/product/ProductDetails';\r\nimport Home from './component/Home/Home'\r\nimport ListOrders from './component/order/ListOrders';\r\n\r\nimport Login from './component/user/Login'\r\nimport Register from './component/user/Register'\r\nimport ForgotPassword from './component/user/ForgotPassword';\r\nimport NewPassword from './component/user/NewPassword'\r\n\r\nimport Profile from './component/user/Profile';\r\nimport UpdateProfile from './component/user/UpdateProfile'\r\nimport UpdatePassword from './component/user/UpdatePassword'\r\n\r\nimport { loadUser } from './actions/userAction';\r\nimport store from './store'\r\nimport ProtectedRoute from './component/route/ProtectedRoute';\r\nimport Cart from './component/cart/Cart';\r\nimport Shipping from './component/cart/Shipping'\r\nimport ConfirmOrder from './component/cart/ConfirmOrder';\r\nimport Payment from './component/cart/Payment'\r\nimport OrderSuccess from './component/cart/OrderSuccess';\r\nimport OrderDetail from './component/order/OrderDetails';\r\n\r\n\r\n//ADMIN ROUTE\r\nimport Dashboard from './component/admin/Dashboard';\r\nimport ProductList from './component/admin/ProductList';\r\nimport newProduct from './component/admin/NewProduct';\r\nimport UpdateProduct from './component/admin/UpdateProduct';\r\nimport OrdersList from './component/admin/OrdersList';\r\nimport ProcessOrder from './component/admin/ProcessOrder';\r\nimport UsersList from './component/admin/UsersList';\r\n\r\n//payment element\r\nimport { Elements } from '@stripe/react-stripe-js'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\n\r\nimport axios from 'axios'\r\n\r\nfunction App() {\r\n\r\n  const [stripeApiKey, setStripeApiKey] = useState('')\r\n\r\n  useEffect(() => {\r\n    store.dispatch(loadUser());\r\n\r\n    async function getStripeApiKey() {\r\n      const { data } = await axios.get('/api/v1/stripeapi');\r\n      setStripeApiKey(data.stripeApiKey)\r\n    }\r\n\r\n    getStripeApiKey()\r\n  }, [])\r\n\r\n  const { user, isAuthenticated, loading } = useSelector(state => state.auth)\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <div className=\"content\">\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/search/:keyword\" component={Produk} />\r\n          <Route path=\"/Produk\" exact component={Produk} />\r\n          <Route path=\"/Produk/:id\" component={ProductDetails} />\r\n\r\n          <Route path=\"/Keranjang\" exact component={Cart} />\r\n          <ProtectedRoute path=\"/Pengiriman\" component={Shipping} />\r\n          <ProtectedRoute path=\"/order/confirm\" component={ConfirmOrder} />\r\n          <ProtectedRoute path=\"/success\" component={OrderSuccess} />\r\n          {\r\n            stripeApiKey &&\r\n            <Elements stripe={loadStripe(stripeApiKey)}>\r\n              <ProtectedRoute path=\"/Pembayaran\" component={Payment} />\r\n            </Elements>\r\n          }\r\n\r\n          <Route path=\"/Masuk\" component={Login} />\r\n          <Route path=\"/Daftar\" component={Register} />\r\n          <Route path=\"/Password/Lupa-Password\" component={ForgotPassword} exact />\r\n          <Route path=\"/Password/reset-password/:token\" component={NewPassword} exact />\r\n\r\n          <ProtectedRoute path=\"/Profile\" exact component={Profile} />\r\n          <ProtectedRoute path=\"/Profile/Ubah-Profile\" exact component={UpdateProfile} />\r\n          <ProtectedRoute path=\"/Password/Ubah-Password\" exact component={UpdatePassword} />\r\n\r\n          <ProtectedRoute path=\"/Profile/Pesanan\" exact component={ListOrders} />\r\n          <ProtectedRoute path=\"/Pesanan/:id\" exact component={OrderDetail} />\r\n\r\n\r\n\r\n          <ProtectedRoute path=\"/Dashboard\" isAdmin={true} exact component={Dashboard} />\r\n          <ProtectedRoute path=\"/admin/produk\" isAdmin={true} exact component={ProductList} />\r\n          <ProtectedRoute path=\"/admin/produk/tambah\" isAdmin={true} exact component={newProduct} />\r\n          <ProtectedRoute path=\"/admin/produk/ubah/:id\" isAdmin={true} exact component={UpdateProduct} />\r\n          <ProtectedRoute path=\"/admin/pesanan\" isAdmin={true} exact component={OrdersList} />\r\n          <ProtectedRoute path=\"/admin/pesanan/ubah/:id\" isAdmin={true} exact component={ProcessOrder} />\r\n          <ProtectedRoute path=\"/admin/user\" isAdmin={true} exact component={UsersList} />\r\n        </div>\r\n        {\r\n          !loading && (!isAuthenticated || user.role !== 'admin') && (\r\n            <Footer />\r\n          )\r\n        }\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}