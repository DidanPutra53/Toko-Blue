{"ast":null,"code":"import _slicedToArray from\"E:/document/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import{Link}from'react-router-dom';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{login,clearError}from'../../actions/userAction';import Loader from'../layout/Loader';import MetaData from'../layout/MetaData';import{Loginbg,Logobg}from'../images/Images';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var history=_ref.history,location=_ref.location;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,error=_useSelector.error,loading=_useSelector.loading;var redirect=location.search?location.search.split(\"=\")[1]:'/';useEffect(function(){if(isAuthenticated){history.push(redirect);}if(error){alert.error(error);dispatch(clearError());}},[dispatch,alert,isAuthenticated,error,history]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Masuk'}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-Content\",children:[/*#__PURE__*/_jsx(\"img\",{src:Loginbg,className:\"loginbg\",alt:\"masuk\"}),/*#__PURE__*/_jsx(\"div\",{className:\"lobang\",children:/*#__PURE__*/_jsx(\"div\",{className:\"kiri\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-page\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"img\",{src:Logobg,alt:\"logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"E-mail\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_field\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},label:\"E-mail\",placeholder:\"E-mail\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:password,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},label:\"Password\",placeholder:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button-klik\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Masuk\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"keterangan\",children:[/*#__PURE__*/_jsx(Link,{to:\"/Password/Lupa-Password\",children:\"Lupa Password?\"}),/*#__PURE__*/_jsx(Link,{to:\"/Daftar\",children:\"Daftar\"})]})]})})})]})]})});};export default Login;","map":{"version":3,"sources":["E:/document/e-commerce/frontend/src/component/user/Login.js"],"names":["React","Fragment","useState","useEffect","Link","useAlert","useDispatch","useSelector","login","clearError","Loader","MetaData","Loginbg","Logobg","Login","history","location","email","setEmail","password","setPassword","alert","dispatch","state","auth","isAuthenticated","error","loading","redirect","search","split","push","submitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { login, clearError } from '../../actions/userAction'\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\nimport { Loginbg, Logobg } from '../images/Images'\r\n\r\nconst Login = ({ history, location }) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const alert = useAlert()\r\n    const dispatch = useDispatch()\r\n\r\n    const { isAuthenticated, error, loading } = useSelector(state => state.auth)\r\n\r\n    const redirect = location.search ? location.search.split(`=`)[1] : '/'\r\n\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            history.push(redirect)\r\n        }\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearError())\r\n        }\r\n    }, [dispatch, alert, isAuthenticated, error, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Masuk'} />\r\n                    <div className=\"Login-Content\">\r\n                        <img src={Loginbg} className=\"loginbg\" alt=\"masuk\" />\r\n                        <div className=\"lobang\">\r\n                            <div className=\"kiri\">\r\n                                <form className=\"login-page\" onSubmit={submitHandler}>\r\n                                    <img src={Logobg} alt=\"logo\" />\r\n                                    <div className=\"input\">\r\n                                        <div className=\"E-mail\">\r\n                                            <label htmlFor=\"email_field\">\r\n                                                E-mail\r\n                                            </label>\r\n                                            <input\r\n                                                value={email}\r\n                                                onChange={(e) => setEmail(e.target.value)}\r\n                                                label=\"E-mail\"\r\n                                                placeholder=\"E-mail\"\r\n                                            />\r\n                                        </div>\r\n                                        <hr />\r\n                                        <div className=\"password\">\r\n                                            <label htmlFor=\"password_field\">\r\n                                                Password\r\n                                            </label>\r\n                                            <input\r\n                                                value={password}\r\n                                                type=\"password\"\r\n                                                onChange={(e) => setPassword(e.target.value)}\r\n                                                label=\"Password\"\r\n                                                placeholder=\"Password\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"button-klik\">\r\n                                        <button>\r\n                                            Masuk\r\n                                        </button>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"keterangan\">\r\n                                        <Link\r\n                                            to=\"/Password/Lupa-Password\">\r\n                                            Lupa Password?\r\n                                        </Link>\r\n                                        <Link\r\n                                            to=\"/Daftar\">\r\n                                            Daftar\r\n                                        </Link>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )\r\n            }\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}