{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{MDBDataTable}from'mdbreact';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{getAdminsProducts,clearError,deleteProduct}from'../../actions/product.actions';import{productConstansts}from'../../constants/product.Constant';import{FiTrash,FiEdit}from\"react-icons/fi\";import MetaData from'../layout/MetaData';import Sidebar from'./Sidebar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(_ref){var history=_ref.history;var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),loading=_useSelector.loading,error=_useSelector.error,products=_useSelector.products;var _useSelector2=useSelector(function(state){return state.product;}),deleteError=_useSelector2.error,isDeleted=_useSelector2.isDeleted;useEffect(function(){dispatch(getAdminsProducts());if(error){alert.error(error);dispatch(clearError());}if(deleteError){alert.error(deleteError);dispatch(clearError());}if(isDeleted){alert.success('Produk Terhapus');history.push('/admin/produk');dispatch({type:productConstansts.DELETE_PRODUCT_RESET});}},[dispatch,alert,error,deleteError,isDeleted,history]);var setProducts=function setProducts(){var data={columns:[{label:'ID',field:'id',sort:'asc'},{label:'Nama',field:'name',sort:'asc'},{label:'Price',field:'price',sort:'asc'},{label:'Stock',field:'stock',sort:'asc'},{label:'Actions',field:'actions'}],rows:[]};products.forEach(function(product){data.rows.push({id:product._id,name:product.name,price:\"Rp. \".concat(product.price),stock:product.stock,actions:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-edit-btn\",style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/produk/ubah/\".concat(product._id),children:/*#__PURE__*/_jsx(FiEdit,{})}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"none\",backgroundColor:\"transparent\"},className:\"trash-product\",onClick:function onClick(){return deleteProductHandler(product._id);},children:/*#__PURE__*/_jsx(FiTrash,{})})]})});});return data;};var deleteProductHandler=function deleteProductHandler(id){dispatch(deleteProduct(id));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Semua Produk'}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-admin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-dashboard\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-product-list-admin\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List Produk\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{className:\"list-product-admin\",children:/*#__PURE__*/_jsx(MDBDataTable,{data:setProducts(),className:\"px-3\",bordered:true,striped:true,hover:true})})]})]})]});};export default ProductList;","map":{"version":3,"sources":["E:/document/e-commerce/frontend/src/component/admin/ProductList.js"],"names":["React","Fragment","useEffect","Link","MDBDataTable","Loader","useAlert","useDispatch","useSelector","getAdminsProducts","clearError","deleteProduct","productConstansts","FiTrash","FiEdit","MetaData","Sidebar","ProductList","history","alert","dispatch","state","products","loading","error","product","deleteError","isDeleted","success","push","type","DELETE_PRODUCT_RESET","setProducts","data","columns","label","field","sort","rows","forEach","id","_id","name","price","stock","actions","display","justifyContent","border","backgroundColor","deleteProductHandler"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\nimport Loader from '../layout/Loader'\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAdminsProducts, clearError, deleteProduct } from '../../actions/product.actions'\r\nimport { productConstansts } from '../../constants/product.Constant'\r\nimport { FiTrash, FiEdit } from \"react-icons/fi\";\r\nimport MetaData from '../layout/MetaData';\r\nimport Sidebar from './Sidebar'\r\n\r\n\r\nconst ProductList = ({ history }) => {\r\n\r\n    const alert = useAlert()\r\n    const dispatch = useDispatch()\r\n\r\n    const { loading, error, products } = useSelector(state => state.products)\r\n    const { error: deleteError, isDeleted } = useSelector(state => state.product)\r\n\r\n    useEffect(() => {\r\n        dispatch(getAdminsProducts())\r\n\r\n        if (error) {\r\n            alert.error(error)\r\n            dispatch(clearError())\r\n        }\r\n\r\n        if (deleteError) {\r\n            alert.error(deleteError)\r\n            dispatch(clearError())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('Produk Terhapus')\r\n            history.push('/admin/produk')\r\n            dispatch({\r\n                type: productConstansts.DELETE_PRODUCT_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, deleteError, isDeleted, history])\r\n\r\n    const setProducts = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Nama',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Price',\r\n                    field: 'price',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Stock',\r\n                    field: 'stock',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        products.forEach(product => {\r\n            data.rows.push({\r\n                id: product._id,\r\n                name: product.name,\r\n                price: `Rp. ${product.price}`,\r\n                stock: product.stock,\r\n                actions:\r\n                    <div className=\"delete-edit-btn\" style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                        <Link to={`/admin/produk/ubah/${product._id}`} ><FiEdit /></Link>\r\n                        <button style={{ border: \"none\", backgroundColor: \"transparent\" }} className=\"trash-product\" onClick={() => deleteProductHandler(product._id)}><FiTrash /></button>\r\n                    </div>\r\n            })\r\n        })\r\n        return data\r\n    }\r\n\r\n    const deleteProductHandler = (id) => {\r\n        dispatch(deleteProduct(id))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Semua Produk'} />\r\n            <div className=\"product-list-admin\">\r\n                <div className=\"sidebar-dashboard\">\r\n                    <Sidebar />\r\n                </div>\r\n                <div className=\"content-product-list-admin\">\r\n                    <h1>List Produk</h1>\r\n                    {\r\n                        loading ? <Loader /> :\r\n                            <div className=\"list-product-admin\">\r\n                                <MDBDataTable\r\n                                    data={setProducts()}\r\n                                    className=\"px-3\"\r\n                                    bordered\r\n                                    striped\r\n                                    hover\r\n                                />\r\n                            </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductList\r\n"]},"metadata":{},"sourceType":"module"}